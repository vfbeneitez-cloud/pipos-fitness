# Database (required for app and tests)
DATABASE_URL="postgresql://USER:PASSWORD@HOST:PORT/DB_NAME?sslmode=require"

# Demo mode: when true, /api/demo/* is enabled and onboarding creates a demo user.
# When false, /api/demo/* returns 403 and /onboarding shows "Auth required".
# In production set both to false.
DEMO_MODE=true
NEXT_PUBLIC_DEMO_MODE=true

# Optional: Node environment (development | test | production). Set automatically by Next.js in Vercel.
# NODE_ENV=development

# NextAuth.js (required for production, optional for development with DEMO_MODE=true)
# AUTH_SECRET=your-secret-key-here (generate with: openssl rand -base64 32)
# AUTH_URL=http://localhost:3000 (or your production URL)
# Note: Tests use .env.test with test values (AUTH_SECRET="test-secret", etc.)

# Google OAuth (required for sign-in when not using DEMO_MODE)
# GOOGLE_CLIENT_ID=xxx.apps.googleusercontent.com
# GOOGLE_CLIENT_SECRET=xxx

# Deprecated — do not use (Google OAuth only): EMAIL_SERVER, EMAIL_FROM

# Sentry (optional, for production error tracking)
# SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
# NEXT_PUBLIC_SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx (same value for client)
# SENTRY_ORG=your-org (optional, for source map uploads)
# SENTRY_PROJECT=your-project (optional)
# SENTRY_DEBUG=true — (solo staging/dev) activa GET /api/_debug/sentry para probar envío a Sentry

# Cron: weekly plan auto-regeneration (optional)
# CRON_SECRET=shared-secret — must match x-cron-secret header; set in Vercel Cron / external scheduler
# CRON_WEEKLY_REGEN_ENABLED=true — when not "true", POST /api/cron/weekly-regenerate returns 404

# Notifications (optional)
# NOTIFICATIONS_ENABLED=false — default. true habilita endpoints /api/notifications/* y campana en UI.
# CRON_DAILY_NOTIFICATIONS_ENABLED=false — cuando no "true", POST /api/cron/daily-notifications retorna 404.

# Notifications email (optional, default off)
# NOTIFICATIONS_EMAIL_ENABLED=false — when not "true", email never sent (in-app only).
# SENDGRID_API_KEY= — required if NOTIFICATIONS_EMAIL_ENABLED=true and not dry-run.
# SENDGRID_FROM_EMAIL= — sender address (e.g. noreply@example.com).
# SENDGRID_FROM_NAME="Pipos Fitness" — optional sender name.
# NOTIFICATIONS_EMAIL_DRY_RUN=true — default true in dev; when true, use mock sender (no real send).

# Notifications push web (optional, default off)
# NOTIFICATIONS_PUSH_ENABLED=false — when not "true", no push sent.
# NOTIFICATIONS_PUSH_DRY_RUN=true — default; when true, use mock sender.
# VAPID_PUBLIC_KEY= — required if PUSH enabled and not dry-run.
# VAPID_PRIVATE_KEY= — required if PUSH enabled and not dry-run.
# VAPID_SUBJECT=mailto:support@piposfitness.local — VAPID subject/URL.
# NEXT_PUBLIC_VAPID_PUBLIC_KEY= — same as VAPID_PUBLIC_KEY for client (subscribe).

# Upstash Redis (optional): distributed rate limiting across instances
# If set, rate limit uses Redis; otherwise in-memory limiter per instance.
# UPSTASH_REDIS_REST_URL=https://xxx.upstash.io
# UPSTASH_REDIS_REST_TOKEN=...

# AI (optional): adherence coach
# AI_PROVIDER=mock — default. Prod: no debe ser mock si ADHERENCE_AI_COACH_ENABLED=true.
# ADHERENCE_AI_COACH_ENABLED=false — default. true habilita coach IA en /api/adherence/insights-ai.
# AI_MODEL= — override del model del provider (si provider no expone model).
